# 🎮 RoboEscape 게임 시작 가이드

## 📦 설치

### 1. Python 환경 확인
Python 3.8 이상이 필요합니다.

```bash
python --version
```

### 2. 가상 환경 생성 (권장)
```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Mac/Linux
source venv/bin/activate
```

### 3. 의존성 설치
```bash
pip install -r requirements.txt
```

## 🚀 게임 실행

```bash
python main.py
```

## 🎮 조작법

### 기본 조작
- **W, A, S, D**: 상하좌우 이동 (속도 180 px/s)
- **Shift**: 대시 (쿨타임 2.5초)
- **E**: 장벽 설치 (쿨타임 6초, 지속 7초)
- **Q**: 노이즈 폭탄 (쿨타임 12초, 효과 2.5초)
- **Space**: 슬로우 모션 (쿨타임 18초)
- **ESC**: 일시정지/재개

### 게임 오버 후
- **R**: 재시작
- **ESC**: 종료

## 🎯 게임 목표

1. **열쇠 3개 수집**: 맵에 흩어진 노란색 열쇠를 모두 찾기
2. **출구 탈출**: 열쇠를 모두 모은 후 녹색 출구로 이동
3. **적 회피**: 다양한 알고리즘으로 무장한 적들을 피하기

## 🤖 적 알고리즘 가이드

### Bug1 (연한 빨강)
- **행동**: 벽을 만나면 한 바퀴 돌며 최단 경로 탐색
- **약점**: 복잡한 장애물 주변에서 헤맴
- **공략**: 벽 주변으로 유인 후 반대편으로 도주

### Bug2 (빨강)
- **행동**: 시작-목표 직선을 유지하려고 함
- **약점**: 직선 경로에서 벗어나면 혼란
- **공략**: 지그재그로 이동하여 M-line 교란

### Tangent Bug (주황)
- **행동**: 장애물 모서리를 전략적으로 활용
- **약점**: 시야 범위 제한
- **공략**: 시야 밖으로 빠른 이동

### APF (진한 빨강) ⚠️
- **행동**: 매우 빠르게 직진, 강력한 추적
- **약점**: **로컬 미니멈에 쉽게 갇힘**
- **공략**: 
  - E키로 U자/O자 구조 만들기
  - 적을 그 안으로 유도
  - 적이 무력화되면 여유롭게 탈출!

## 🎨 스테이지 구성

- **Stage 1**: Bug1 튜토리얼 (3마리)
- **Stage 2**: Bug1/2/Tangent 패턴 학습 (3마리)
- **Stage 3**: Bug2/APF/Tangent 조합 (5마리)
- **Stage 4**: Sampling-based 등장 (6마리)
- **Stage 5**: Belief 확률 추적 (7마리)
- **Stage 6**: 보스전 - 전 알고리즘 (8마리)
- **Stage 7+**: 무한 난이도 (최대 12마리)

## 💡 팁

### 생존 전략
1. **대시를 아끼지 마세요**: 위험한 순간에 즉시 사용
2. **미니맵 활용**: 우하단 미니맵으로 적 위치 파악
3. **벽 활용**: 좁은 통로에서 적을 하나씩 상대
4. **장벽 스킬**: APF 적을 로컬 미니멈에 가두는 핵심 전략

### 열쇠 수집
- 안전한 경로를 먼저 확보하세요
- 한 번에 모두 수집하려 하지 마세요
- 적의 위치를 확인하고 순서를 정하세요

### 고급 테크닉
- 벽과 적 사이를 지나는 "코너링"
- 여러 적을 한 곳에 유인하는 "몰이"
- 대시로 적을 통과하는 "돌파"

## 🐛 문제 해결

### 게임이 시작되지 않는 경우
```bash
# Pygame 재설치
pip uninstall pygame
pip install pygame
```

### 느린 프레임레이트
- config.py에서 적 수를 줄이세요
- DEBUG 옵션을 끄세요

### 화면이 깨지는 경우
- 화면 해상도 확인
- config.py에서 SCREEN_WIDTH, SCREEN_HEIGHT 조정

## 📊 통계 시스템

게임 종료 시 다음 통계가 표시됩니다:
- **Distance Traveled**: 총 이동 거리
- **Dodges**: 대시 사용 횟수
- **Walls Placed**: 장벽 설치 횟수
- **Noise Used**: 노이즈 폭탄 사용 횟수

## 🔧 커스터마이징

### 난이도 조정
[config.py](config.py)에서 다음 값들을 조정하세요:

```python
# 플레이어 스피드 증가
PLAYER_SPEED = 250  # 기본: 200

# 적 스피드 감소
ENEMY_APF_SPEED = 100  # 기본: 120

# 스킬 쿨타임 감소
SKILL_WALL_COOLDOWN = 3.0  # 기본: 5.0
```

### 새 스테이지 추가
[game/level.py](game/level.py)의 `Level` 클래스에서 `_generate_stageN` 메서드를 추가하세요.

## 📝 최근 업데이트

- [x] 난이도 상승 (적 속도 증가, 스킬 쿨타임 증가)
- [x] 스폰/열쇠 접근성 개선 (주변 클리어)
- [x] 시각화 최적화 (PRM/RRT/Belief 색상 부드럽게)
- [x] 임시 벽 감지 개선 (PRM/RRT 재계획)

## 🎓 알고리즘 상세

더 자세한 알고리즘 설명은 [algos/](algos/) 폴더의 각 파일을 참조하세요.

## 📞 문의

버그 리포트나 기능 제안은 GitHub Issues로 등록해주세요!

---

**즐거운 게임 되세요! 🚀**
